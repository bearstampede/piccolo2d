#summary Release checklist.

= Introduction =

= Checklist =

No Open issues exist with current release milestone

[http://code.google.com/p/piccolo2d/issues/list?can=2&q=milestone=1.3.1&colspec=ID%20Type%20Status%20Priority%20Milestone%20Owner%20Toolkit%20Component%20Summary Milestone:1.3.1,Open issues]


<br/>
No Fixed issues exist with the current release milestone (all closed issues should be in Duplicate, WontFix, or Verified status)

[http://code.google.com/p/piccolo2d/issues/list?can=1&q=Milestone:1.3.1%20status=Fixed&sort=status&colspec=ID%20Type%20Status%20Priority%20Milestone%20Owner%20Toolkit%20Component%20Summary Milestone:1.3.1,status=Fixed]


<br/>
===For each of {beta, rc1, rc2, ...} release candidates:===

Clean checkout of trunk from subversion

{{{
$ svn checkout https://piccolo2d.googlecode.com/svn/piccolo2d.java/trunk piccolo2d.java-trunk
$ cd piccolo2d.java-trunk
}}}

<br/>
Update version in parent pom.xml file to {$version}-${release-candidate}

parent/pom.xml:
{{{
  <version>1.3.1-rc1</version>
}}}


<br/>
Working directory builds and all tests pass on all platforms
{{{
$ mvn install
}}}


<br/>
Examples run with jdk 1.4+ on all platforms

{{{
$ cd examples
$ mvn assembly:assembly
$ java -jar target/piccolo2d-examples-1.3.1-rc1-jar-with-dependencies.jar
}}}

<br/>
SWT examples run with jdk 1.4+ on all platforms

{{{
$ cd ../swt-examples
$ mvn assembly:assembly
$ java -jar target/piccolo2d-swt-examples-1.3.1-beta-jar-with-dependencies.jar
}}}

<br/>
Clirr report shows no ERRORs where binary compatibility is required

For example, for minor release version 1.3.1, core must be binary compatible with the latest minor release version, 1.3.
{{{
$ clirr.sh --old-version piccolo2d-core-1.3.jar --new-version piccolo2d-core-1.3.1-rc1.jar --style text
}}}

<br/>
All source files have the Piccolo2D license header

<br/>
Class file format of all jar files matches the minimum required JDK version, currently 1.4

<br/>
Update release notes and readme as necessary

<br/>
Commit release candidate changes to trunk

{{{
$ svn commit -m "updating version to 1.3.1-rc1" .
}}}

<br/>
Create release tag in subversion

{{{
$ svn cp -m "creating 1.3.1-rc1 release tag" https://piccolo2d.googlecode.com/svn/piccolo2d.java/trunk https://piccolo2d.googlecode.com/svn/piccolo2d.java/tags/release-1.3.1-rc1
}}}

====Create binary, source, and javadoc release artifacts====

To create binary zip and binary tar.gz files, update the VERSION shell variable and call

{{{
$ ./create-bin.sh
}}}

To create source zip and source tar.gz files, update the VERSION shell variable and call

{{{
$ ./create-src.sh
}}}

These scripts are currently attached to Issue 146 and will probably live in svn shortly.

====Create new downloads on Google Code====

Visit

http://code.google.com/p/piccolo2d/downloads/list

Click [http://code.google.com/p/piccolo2d/downloads/entry New download] link and upload binary zip, binary tar.gz, source zip, and source tar.gz files.  Refer to previous uploads for what the metadata should look like.

Deprecate earlier failed release candidate version downloads, if any.


====For release candidate versions====

Send a VOTE email to the dev and user mailing lists,

{{{
Subject: [VOTE] Release Piccolo2D.Java ${version}

This is a vote for releasing Piccolo2D.Java ${version} based on release
candidate ${rc} (version ${rc-version}).

${rc-version} is available from the downloads page:

http://code.google.com/p/piccolo2d/downloads/list?can=2&q=${rc-version}

---------------
[ ] +1  I support this release
[ ] +0
[ ] -0
[ ] -1  I oppose this release because...
----------------

Votes from Piccolo2D project committers are binding, however votes
from other contributors and users are welcomed.  The vote must receive
at least three +1 binding votes and no -1 binding votes.

Vote will close at ${date}.

On behalf of the Piccolo2D developers,

  ${developer}
}}}

After the vote is complete, send a RESULT email to the dev and user mailing lists,

{{{
Subject: [RESULT] Release Piccolo2D.Java ${version}

The following people voted on release ${rc-version}:

Bob +1
Sue +1
Sam +0
Sandy +1 (non-binding)
}}}

===After final release tag:===

Create release branch in subversion

{{{
$ svn cp -m "creating 1.3.1 release branch" https://piccolo2d.googlecode.com/svn/piccolo2d.java/trunk https://piccolo2d.googlecode.com/svn/piccolo2d.java/branches/release-1.3.1
}}}


<br/>
Create bundle(s) for upload to maven central repository

*TODO*


<br/>
Update version in parent pom.xml file on svn trunk to ${next-version}-SNAPSHOT

parent/pom.xml:
{{{
  <version>1.4-SNAPSHOT</version>
}}}

and commit

{{{
$ svn commit -m "updating version to 1.4-SNAPSHOT" parent/pom.xml
}}}


= References =

 * Apache Commons [http://commons.apache.org/releases/prepare.html Preparations for a Release]
 * Apache Commons [http://commons.apache.org/releases/release.html Cutting the Release]
 * Apache Commons commons-parent [http://svn.apache.org/viewvc/commons/proper/commons-parent/trunk/pom.xml?view=annotate pom.xml]
 * Maven [http://maven.apache.org/plugins/maven-release-plugin/ Release Plugin]